/* ===================================================
   Cinephile â€” style.css (Responsive, Modern, Sleek with Button + Card Magic)
   =================================================== */

/* ---- Global Styles ---- */
* { box-sizing: border-box; margin:0; padding:0; }
body { font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:#0f0f0f; color:#fff; line-height:1.5; }
a { text-decoration:none; color:inherit; }

/* ---- Header Styling ---- */
header { display:flex; flex-direction:column; align-items:center; justify-content:center; padding:1rem 1.5rem; background:#1a1a1a; border-bottom:2px solid #ff3b3b; gap:.7rem; }
header h1 { font-size:2rem; font-weight:900; color:#ff3b3b; text-transform:uppercase; letter-spacing:1px; text-shadow:0 0 12px rgba(255,59,59,.7); }

.filters { display:flex; flex-wrap:wrap; justify-content:center; align-items:center; gap:.5rem; }
.filters input, .filters select { padding:.45rem .75rem; border-radius:6px; border:none; outline:none; font-size:.95rem; background:#222; color:#fff; transition:.2s; }
.filters input::placeholder { color:#aaa; }
.filters input:focus, .filters select:focus { border:1px solid #ff3b3b; background:#1c1c1c; }

/* ---- Category Buttons ---- */
.category-buttons { display:flex; gap:.4rem; flex-wrap:wrap; }
.category-buttons button { padding:.45rem .9rem; border-radius:6px; border:none; font-weight:600; background:#333; color:#fff; cursor:pointer; transition: transform .2s, box-shadow .2s; }
.category-buttons button:hover { transform:scale(1.05); box-shadow:0 0 8px rgba(255,59,59,.5); }
.category-buttons button.is-active { background:#ff3b3b; color:#fff; box-shadow:0 0 12px rgba(255,59,59,.7); animation:pulse-glow 2.5s infinite ease-in-out; }

/* ---- Responsive Header ---- */
@media(max-width:768px){ header{flex-direction:column;gap:.5rem;} .filters{flex-direction:column;gap:.4rem;width:100%;} .filters input,.filters select{width:100%;} .category-buttons{justify-content:center;width:100%;} }
@media(min-width:1200px){ header{flex-direction:row;justify-content:space-between;align-items:center;} .filters{gap:.7rem;} }

/* ---- Pulse Glow Animation ---- */
@keyframes pulse-glow {0%{box-shadow:0 0 6px rgba(255,59,59,.4);}50%{box-shadow:0 0 12px rgba(255,59,59,.6);}100%{box-shadow:0 0 6px rgba(255,59,59,.4);}}

/* ---- Movies Grid ---- */
#movies-container{padding:.5rem;}
.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.8rem;}

/* ---- Movie Card ---- */
.movie-card{background:#1c1c1c;border-radius:10px;overflow:hidden;display:flex;flex-direction:column;cursor:pointer;transition:transform .25s ease,box-shadow .25s ease,filter .25s ease;}
.movie-card:hover,.movie-card:active{transform:translateY(-4px) scale(1.03); box-shadow:0 12px 25px rgba(255,59,59,.45),0 0 12px rgba(255,59,59,.2) inset; filter:brightness(1.05);}

/* ---- Poster Wrap ---- */
.poster-wrap{position:relative;overflow:hidden;width:100%;aspect-ratio:2/3;background:#111;}
.poster-wrap img{width:100%;height:100%;display:block;object-fit:contain;transition:transform .25s ease;}
.movie-card:hover .poster-wrap img,.movie-card:active .poster-wrap img{transform:scale(1.06);}
.poster-wrap::after{content:'';position:absolute;inset:0;background:rgba(0,0,0,.15);transition:background .25s ease;}
.movie-card:hover .poster-wrap::after,.movie-card:active .poster-wrap::after{background:rgba(0,0,0,.25);}

/* ---- Card Head ---- */
.card-head{padding:.4rem;text-align:center;}
.card-head h3{font-size:.95rem;margin-bottom:.3rem;}
.movie-cat{font-size:.75rem;color:#aaa;text-align:center;margin-bottom:.5rem;}

/* ---- Card Buttons ---- */
.card-buttons{display:flex;flex-direction:column;gap:.35rem;padding:.4rem;}
.card-buttons button,.card-buttons select{position:relative;width:100%;padding:.35rem;border-radius:5px;border:none;font-size:.85rem;cursor:pointer;overflow:hidden;transition:transform .25s ease,background .25s ease,box-shadow .25s ease;}
.card-buttons button{background:#ff3b3b;color:#fff;animation:pulse-glow 2.5s infinite ease-in-out;}
.card-buttons button:hover{transform:scale(1.1) translateY(-2px);box-shadow:0 6px 18px rgba(255,59,59,.55);}
.card-buttons button:active{transform:scale(.95);box-shadow:0 0 12px rgba(255,59,59,.6) inset;}
.card-buttons button::after{content:'';position:absolute;width:0;height:0;border-radius:50%;background:rgba(255,255,255,.2);transform:scale(0);pointer-events:none;transition:width .3s,height .3s,transform .3s,opacity .3s;}
.card-buttons button:active::after{width:200px;height:200px;transform:scale(1);opacity:0;transition:0s;}
.series-downloads{display:flex;gap:.4rem;flex-wrap:wrap;}
.card-buttons .download-btn:nth-child(1){background:linear-gradient(135deg,#ff3b3b,#ff5555);}
.card-buttons .download-btn:nth-child(2){background:linear-gradient(135deg,#ff7b3b,#ff9855);}

/* ---- Modals ---- */
#detailModal,#requestModal{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;justify-content:center;align-items:center;z-index:1000;backdrop-filter:blur(4px);}
#detailModal[aria-hidden="false"],#requestModal[aria-hidden="false"]{display:flex;}
.modal-box{background:#1b1b1b;width:90%;max-width:430px;padding:1.3rem;border-radius:14px;box-shadow:0 0 25px rgba(255,59,59,.2);animation:popIn .25s ease;}
@keyframes popIn{from{transform:scale(.85);opacity:0;}to{transform:scale(1);opacity:1;}}
.modal-box h2{margin:0 0 .6rem;font-size:1.4rem;color:#ff3b3b;}
.modal-box input,.modal-box button,.modal-box select{width:100%;padding:.55rem;margin-bottom:.7rem;background:#121212;border:1px solid #2a2a2a;color:#fff;border-radius:8px;font-size:.95rem;}
.modal-box button{background:#ff3b3b;border:none;cursor:pointer;transition:.15s;position:relative;overflow:hidden;}
.modal-box button:hover{background:#ff4848;}
#requestSuccess{display:none;margin-top:.3rem;color:#0f0;font-weight:bold;font-size:.95rem;}

/* ---- Modal Release Date Styling ---- */
.release-date{color:#ff3b3b;font-weight:700;font-size:.95rem;display:block;margin:.45rem 0;padding-left:.45rem;border-left:3px solid rgba(255,59,59,.18);backdrop-filter:blur(2px);}

/* ---- Modal Shiny Button Effect ---- */
.modal-box button,.modal-box .modal-close,.modal-box .view-episodes,.modal-box .btn-ghost,.modal-box .download-btn{position:relative;overflow:hidden;}
.modal-box button::after,.modal-box .download-btn::after,.modal-box a::after,.modal-box .view-episodes::after{content:"";position:absolute;top:-120%;left:-120%;width:300%;height:300%;background:linear-gradient(120deg,transparent,rgba(255,255,255,.28),transparent);transform:rotate(25deg);transition:.45s;pointer-events:none;}
.modal-box button:hover::after,.modal-box .download-btn:hover::after,.modal-box a:hover::after,.modal-box .view-episodes:hover::after{top:-30%;left:-30%;}

/* ---- Episode List Styling ---- */
.episode-list{display:flex;flex-direction:column;gap:.6rem;margin-top:.8rem;}
.episode-row{display:flex;justify-content:space-between;align-items:center;gap:.6rem;background:#121212;padding:.55rem;border-radius:8px;border:1px solid #262626;}
.ep-left{flex:1;}
.ep-title{font-weight:600;color:#e9e9e9;margin-bottom:3px;}
.ep-meta{font-size:.82rem;color:#9a9a9a;}
.ep-right{display:flex;gap:.45rem;align-items:center;}
.btn-small{padding:.35rem .45rem;font-size:.82rem;border-radius:6px;}

/* ---- Modal body & request modal adjustments ---- */
#modalBody.modal-box,#requestBody.modal-box{background:#1b1b1b;border-radius:12px;padding:1rem;box-shadow:0 12px 30px rgba(0,0,0,.6);}

/* ---- Responsive Enhancements ---- */
@media(min-width:600px){ header{flex-direction:row;justify-content:space-between;} .filters{margin-top:0;} .card-buttons{flex-direction:row;} .card-buttons button,.card-buttons select{flex:1;width:auto;} .poster-wrap{aspect-ratio:2/3;} }
@media(min-width:900px){ .cards-grid{grid-template-columns:repeat(auto-fit,minmax(180px,1fr));} .poster-wrap{aspect-ratio:2/3;} }

/* ---- Mobile Tap/Focus Feedback ---- */
.card-buttons button:focus,.card-buttons select:focus{outline:none;}
.filters button:active,.filters button:focus,.filters select:active,.filters select:focus,.filters input:focus{transform:scale(.98);border:1px solid #ff3b3b;outline:none;transition:transform .1s,border .1s;}
/* ================================
   PERFECTED POPUP + SCROLL SYSTEM
   ================================ */

/* Center popup perfectly */
#detailModal {
    display: flex !important;
    align-items: center;
    justify-content: center;
    padding: 20px;
    max-height: 100vh;
    overflow-y: auto;
}

/* Popup box */
#modalContent {
    width: 90%;
    max-width: 500px;
    border-radius: 14px;
    overflow: hidden; /* clean edges */
}

/* Inner scrollable area */
#modalBody {
    max-height: 80vh;
    overflow-y: auto;
    padding-right: 10px;
}

/* Consistent spacing inside popup */
#modalBody > * {
    margin-bottom: 12px;
}

/* Universal scroll forcing
   Works no matter how HTML changes */
#detailModal,
#detailModal .modal,
#detailModal .modal-content,
#detailModal #modalContent,
#modalBody {
    max-height: 90vh !important;
    overflow-y: auto !important;
}

/* Modern scrollbar style */
#detailModal *::-webkit-scrollbar {
    width: 6px;
}
#detailModal *::-webkit-scrollbar-thumb {
    background: rgba(255,255,255,0.25);
    border-radius: 10px;
}
#detailModal *::-webkit-scrollbar-track {
    background: transparent;
}
/* End of PERFECTED POPUP + SCROLL SYSTEM */